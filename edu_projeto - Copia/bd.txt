DROP DATABASE postagem;
-- Cria o banco de dados
CREATE DATABASE postagem;
-- Seleciona o banco de dados
USE postagem;

-- Cria a tabela de categorias
CREATE TABLE categorias (
    id INT(11) AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255) NOT NULL
);

CREATE TABLE postagens (
    id INT(11) AUTO_INCREMENT PRIMARY KEY,
    titulo VARCHAR(255) NOT NULL,
    descricao TEXT NOT NULL,
    conteudo TEXT NOT NULL,
    data_criacao TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    categoria_id INT(11),
    FOREIGN KEY (categoria_id) REFERENCES categorias(id)
);


-- Cria a tabela de comentários
CREATE TABLE comentarios (
    id INT AUTO_INCREMENT PRIMARY KEY,
    postagem_id INT NOT NULL,
    autor VARCHAR(100) NOT NULL,
    conteudo TEXT NOT NULL,
    data_comentario TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (postagem_id) REFERENCES postagens(id)
);

INSERT INTO categorias (nome) VALUES ('Depressão');
INSERT INTO categorias (nome) VALUES ('Transtorno Bipolar');
INSERT INTO categorias (nome) VALUES ('Transtorno de Ansiedade Generalizada (TAG)');
INSERT INTO categorias (nome) VALUES ('Transtorno de Pânico');
INSERT INTO categorias (nome) VALUES ('Transtorno de Ansiedade Social (Fobia Social)');
INSERT INTO categorias (nome) VALUES ('Transtorno Obsessivo-Compulsivo (TOC)');
INSERT INTO categorias (nome) VALUES ('Transtorno de Estresse Pós-Traumático (TEPT)');
INSERT INTO categorias (nome) VALUES ('Esquizofrenia');
INSERT INTO categorias (nome) VALUES ('Transtorno de Personalidade Borderline (TPB)');
INSERT INTO categorias (nome) VALUES ('Transtorno de Déficit de Atenção/Hiperatividade (TDAH)');

